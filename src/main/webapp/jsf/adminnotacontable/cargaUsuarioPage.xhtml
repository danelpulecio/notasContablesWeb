<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:p="http://primefaces.org/ui"
				template="../../WEB-INF/layouts/template.xhtml">
	<ui:param name="title" value="Carga de Instancias por Usuario" />
	<ui:define name="body">

		<!--Filtro de busqueda	-->
		<div style="width: 990px;">
			<h:form>


			<h:panelGrid columns="1" width="100%">
			<h1 align="center">Carga de Instancias por Usuario</h1>
		</h:panelGrid> 
		<!-- Panel de opciones --> 
		<!-- Campos del formulario --> 
		<h:panelGrid id="informacion" columns="1" width="60%" cellpadding="0" cellspacing="0">
			<p:accordionPanel label="Filtro de búsqueda" width="100%" switchType="client">
				<h:panelGrid columns="2" width="100%" cellpadding="0" cellspacing="5">
					<h:outputText value="Sucursal Origen" />
					<h:selectOneMenu value="sucursal" immediate="true">
						<f:selectItems value="sucursales" />
					</h:selectOneMenu>
					<h:outputText value="Rol" />
					<h:selectOneMenu value="rol" immediate="true" converter="javax.faces.Integer">
						<f:selectItems value="roles" />
					</h:selectOneMenu>
					<h:outputText value="Estado" />
					<h:selectOneMenu value="estado" immediate="true" >
						<f:selectItem itemValue="0" itemLabel="Pendiente de aprobación por Subgenrente, Gerente, Área Central" />
						<f:selectItem itemValue="1" itemLabel="Pendiente de Revisión" />
						<f:selectItem itemValue="2" itemLabel="Pendiente de aprobación por Padrino - Unidad de Análisis" />
						<f:selectItem itemValue="3" itemLabel="Pendiente de aprobación ente Autorizador" />
						<f:selectItem itemValue="4" itemLabel="Precierre" />
					</h:selectOneMenu>
				</h:panelGrid>
				<h:panelGrid columns="1" styleClass="center">
					<h:commandButton reRender="informacion,lista" value="Buscar" />
				</h:panelGrid>
			</p:accordionPanel>
		</h:panelGrid>

		<ui:include src="../../common/mensajes.xhtml" />
		
		<!-- Tabla de registros --> 
		
		<!--<h:panelGrid columns="1" width="100%" style="align:center;" id="lista">-->

				<p:dataTable value="#{cargaUsuarioPage.datos}" var="dato" id="table" rowIndexVar="rowIndex"
							 widgetVar="economicActivityTable" rows="15" paginator="true"
							 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							 currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
							 paginatorPosition="top">


				<p:column headerText="Área" sortable="true" sortBy="#{dato.usuarioModulo.codigoAreaModificado}">
					<h:panelGrid columns="2">
						<h:outputText value="#{dato.usuarioModulo.codigoAreaModificado}" />
						<h:outputText value="#{dato.usuarioModulo.nombreAreaModificado}" />
					</h:panelGrid>
				</p:column>
				<p:column headerText="Usuario" sortable="true" sortBy="#{dato.usuarioModulo.codigoEmpleado}">
					<h:outputText value="#{dato.usuarioModulo.codigoEmpleado}" />
				</p:column>
				<p:column headerText="Rol" sortable="true" sortBy="#{dato.usuarioModulo.rol.nombre}">
					<h:outputText value="#{dato.usuarioModulo.rol.nombre}"/>
				</p:column>
				<p:column headerText="Instancias" sortable="true" sortBy="#{dato.cantInstancias}">
					<h:outputText value="#{dato.cantInstancias}"/>
				</p:column>


			</p:dataTable>
		<!--</h:panelGrid>-->
			</h:form>

		</div>
	</ui:define>
</ui:composition>
